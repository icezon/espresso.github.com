
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Espresso Framework</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <script src="javascripts/jquery.js" type="text/javascript"></script>
  
  <link href="javascripts/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link href="javascripts/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" />
  <script src="javascripts/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

  <link href="javascripts/google-code-prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script src="javascripts/google-code-prettify/prettify.js" type="text/javascript"></script>

  <link href="stylesheets/master.css" type="text/css" rel="stylesheet" />

</head>

<body>

  <div class="container">

    <div class="row">
      <div class="span2">
        <a href="index.html">
          <img src="images/logo.png" class="pull-right logo" /></a>
      </div>

      <div class="span6">
        <h1>
          <a href="index.html">
          Espresso Framework</a>
        </h1>
        <h4>
          Scalable Web Framework aimed at Speed and Simplicity
        </h4>
      </div>

      <div class="span pull-right">
        <div class="row">
          <div class="span">
            <h4>
              <a href="presentation.html">
                Official Presentation</a>
              </h4>
              <h4 style="white-space: nowrap;">
                <a href="Events.html">
                  Events</a> |
                <a href="CHANGELOG.html">
                  Change Log</a> 
            </h4>
          </div>
        </div>
      </div>
    </div>

    <hr/>
    <div class="row" style="text-align: center;">
    <div class="btn-toolbar">
      
      
        <div class="btn-group" style="text-align: left; margin: 5px;">
          <a href="Intro.html" class="btn">
            Intro</a>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
            
              <li>
                <a href="Intro.html#actions">
                  Actions</a>
              </li>
            
              <li>
                <a href="Intro.html#controllers">
                  Controllers</a>
              </li>
            
              <li>
                <a href="Intro.html#slices">
                  Slices</a>
              </li>
            
              <li>
                <a href="Intro.html#mvc-">
                  MVC?</a>
              </li>
            
              <li>
                <a href="Intro.html#models-">
                  Models?</a>
              </li>
            
            </ul>

        </div>
      
        <div class="btn-group" style="text-align: left; margin: 5px;">
          <a href="Routing.html" class="btn">
            Routing</a>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
            
              <li>
                <a href="Routing.html#base-url">
                  Base URL</a>
              </li>
            
              <li>
                <a href="Routing.html#canonicals">
                  Canonicals</a>
              </li>
            
              <li>
                <a href="Routing.html#actions">
                  Actions</a>
              </li>
            
              <li>
                <a href="Routing.html#action-mapping">
                  Action Mapping</a>
              </li>
            
              <li>
                <a href="Routing.html#action-aliases">
                  Action Aliases</a>
              </li>
            
              <li>
                <a href="Routing.html#parametrization">
                  Parametrization</a>
              </li>
            
              <li>
                <a href="Routing.html#format">
                  Format</a>
              </li>
            
              <li>
                <a href="Routing.html#restful-actions">
                  RESTful Actions</a>
              </li>
            
              <li>
                <a href="Routing.html#rewriter">
                  Rewriter</a>
              </li>
            
            </ul>

        </div>
      
        <div class="btn-group" style="text-align: left; margin: 5px;">
          <a href="Setup.html" class="btn">
            Setup</a>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
            
              <li>
                <a href="Setup.html#global-setup">
                  Global Setup</a>
              </li>
            
              <li>
                <a href="Setup.html#setup-by-name">
                  Setup by Name</a>
              </li>
            
              <li>
                <a href="Setup.html#setup-by-format">
                  Setup by Format</a>
              </li>
            
              <li>
                <a href="Setup.html#remote-setup">
                  Remote Setup</a>
              </li>
            
            </ul>

        </div>
      
        <div class="btn-group" style="text-align: left; margin: 5px;">
          <a href="Workflow.html" class="btn">
            Workflow</a>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
            
              <li>
                <a href="Workflow.html#route">
                  Route</a>
              </li>
            
              <li>
                <a href="Workflow.html#params">
                  Params</a>
              </li>
            
              <li>
                <a href="Workflow.html#passing-control">
                  Passing Control</a>
              </li>
            
              <li>
                <a href="Workflow.html#fetching-body">
                  Fetching Body</a>
              </li>
            
              <li>
                <a href="Workflow.html#halt">
                  Halt</a>
              </li>
            
              <li>
                <a href="Workflow.html#redirect">
                  Redirect</a>
              </li>
            
              <li>
                <a href="Workflow.html#reload">
                  Reload</a>
              </li>
            
              <li>
                <a href="Workflow.html#error-handlers">
                  Error Handlers</a>
              </li>
            
              <li>
                <a href="Workflow.html#hooks">
                  Hooks</a>
              </li>
            
              <li>
                <a href="Workflow.html#authorization">
                  Authorization</a>
              </li>
            
              <li>
                <a href="Workflow.html#sessions">
                  Sessions</a>
              </li>
            
              <li>
                <a href="Workflow.html#flash">
                  Flash</a>
              </li>
            
              <li>
                <a href="Workflow.html#cookies">
                  Cookies</a>
              </li>
            
              <li>
                <a href="Workflow.html#content-type">
                  Content Type</a>
              </li>
            
              <li>
                <a href="Workflow.html#charset">
                  Charset</a>
              </li>
            
              <li>
                <a href="Workflow.html#cache-control">
                  Cache Control</a>
              </li>
            
              <li>
                <a href="Workflow.html#expires">
                  Expires</a>
              </li>
            
              <li>
                <a href="Workflow.html#last-modified">
                  Last Modified</a>
              </li>
            
              <li>
                <a href="Workflow.html#accepted-content-type">
                  Accepted Content Type</a>
              </li>
            
              <li>
                <a href="Workflow.html#cache-manager">
                  Cache Manager</a>
              </li>
            
              <li>
                <a href="Workflow.html#send-file">
                  Send File</a>
              </li>
            
              <li>
                <a href="Workflow.html#send-files">
                  Send Files</a>
              </li>
            
              <li>
                <a href="Workflow.html#attachment">
                  Attachment</a>
              </li>
            
              <li>
                <a href="Workflow.html#headers">
                  Headers</a>
              </li>
            
            </ul>

        </div>
      
        <div class="btn-group" style="text-align: left; margin: 5px;">
          <a href="ViewAPI.html" class="btn">
            View API</a>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
            
              <li>
                <a href="ViewAPI.html#engine">
                  Engine</a>
              </li>
            
              <li>
                <a href="ViewAPI.html#extension">
                  Extension</a>
              </li>
            
              <li>
                <a href="ViewAPI.html#templates-path">
                  Templates Path</a>
              </li>
            
              <li>
                <a href="ViewAPI.html#layouts-path">
                  Layouts Path</a>
              </li>
            
              <li>
                <a href="ViewAPI.html#layout">
                  Layout</a>
              </li>
            
              <li>
                <a href="ViewAPI.html#rendering-templates">
                  Rendering Templates</a>
              </li>
            
              <li>
                <a href="ViewAPI.html#rendering-layouts">
                  Rendering Layouts</a>
              </li>
            
              <li>
                <a href="ViewAPI.html#ad-hoc-rendering">
                  Ad hoc Rendering</a>
              </li>
            
              <li>
                <a href="ViewAPI.html#path-resolver">
                  Path Resolver</a>
              </li>
            
              <li>
                <a href="ViewAPI.html#templates-compilation">
                  Templates Compilation</a>
              </li>
            
            </ul>

        </div>
      
        <div class="btn-group" style="text-align: left; margin: 5px;">
          <a href="Streaming.html" class="btn">
            Streaming</a>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
            
              <li>
                <a href="Streaming.html#server-sent-events">
                  Server-Sent Events</a>
              </li>
            
              <li>
                <a href="Streaming.html#websockets">
                  WebSockets</a>
              </li>
            
              <li>
                <a href="Streaming.html#chunked-responses">
                  Chunked Responses</a>
              </li>
            
            </ul>

        </div>
      
        <div class="btn-group" style="text-align: left; margin: 5px;">
          <a href="Assets.html" class="btn">
            Assets</a>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
            
              <li>
                <a href="Assets.html#tag-helpers">
                  Tag Helpers</a>
              </li>
            
              <li>
                <a href="Assets.html#assets-mapper">
                  Assets Mapper</a>
              </li>
            
            </ul>

        </div>
      
        <div class="btn-group" style="text-align: left; margin: 5px;">
          <a href="CRUD.html" class="btn">
            CRUD</a>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
            
              <li>
                <a href="CRUD.html#intro">
                  Intro</a>
              </li>
            
              <li>
                <a href="CRUD.html#resource">
                  Resource</a>
              </li>
            
              <li>
                <a href="CRUD.html#excluded-params">
                  Excluded Params</a>
              </li>
            
              <li>
                <a href="CRUD.html#root">
                  Root</a>
              </li>
            
              <li>
                <a href="CRUD.html#response">
                  Response</a>
              </li>
            
              <li>
                <a href="CRUD.html#error-handler">
                  Error Handler</a>
              </li>
            
              <li>
                <a href="CRUD.html#access-restriction">
                  Access Restriction</a>
              </li>
            
            </ul>

        </div>
      
        <div class="btn-group" style="text-align: left; margin: 5px;">
          <a href="Deploy.html" class="btn">
            Deploy</a>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
            
              <li>
                <a href="Deploy.html#controllers">
                  Controllers</a>
              </li>
            
              <li>
                <a href="Deploy.html#slices">
                  Slices</a>
              </li>
            
              <li>
                <a href="Deploy.html#roots">
                  Roots</a>
              </li>
            
              <li>
                <a href="Deploy.html#run">
                  Run</a>
              </li>
            
              <li>
                <a href="Deploy.html#config-ru">
                  config.ru</a>
              </li>
            
            </ul>

        </div>
      
      
    </div>
    </div>
    <div style="text-align: center;">
      <h4>
        Use 
        <a href="Generator.html">Generator</a>
        to generate: 
        <a href="Generator.html#generating-projects">Projects</a> / 
        <a href="Generator.html#generating-controllers">Controllers</a> / 
        <a href="Generator.html#generating-routes">Routes</a> / 
        <a href="Generator.html#generating-models">Models</a>
      </h4>
    </div>
    <hr/>
    <p>Espresso features a built-in generator that starts by building a ready-to-use application then allow you to easily create controllers, routes, models and views from command line.</p>

<p>The generator can be used via <code>e</code> executable followed by <code>g</code> notation and name of the unit to be generated.</p>

<p>Ex: type <code>e g:project ProjectName</code> to generate a project, <code>e g:controller Foo</code> to generate a controller, etc.</p>

<p><strong>Worth to note</strong> that generator allow to use only the first unit letter, ex: <code>e g:p ProjectName</code> to generate a project, <code>e g:c Foo</code> to generate a controller, etc.</p>

<p>Also, any non-alphanumeric(except space) can be used instead of semicolon, ex: <code>e g.p ProjectName</code> to generate a project, <code>e g.c Foo</code> to generate a controller, etc.</p>

<p>Or just omit that symbol, ex: <code>e gp ProjectName</code> to generate a project, <code>e gc Foo</code> to generate a controller, etc.</p>

<h2 id='basic-project-structure'><a href='#basic-project-structure'>Basic project structure</a></h2>

<pre>
- base/
  | - controllers/
  | - helpers/
  | - models/
  | - specs/
  | - views/
  | - boot.rb
  | - config.rb
  ` - database.rb

- config/
  | - config.yml
  ` - database.yml

- public/
  | - assets/
      | - app.css
      ` - app.js

- tmp/

- var/
  | - db/
  | - log/
  ` - pid/

- Gemfile
- app.rb
- config.ru
</pre>


<p><strong>[ <a href="#">contents &uarr;</a> ]</strong></p>

<h2 id='generating-projects'><a href='#generating-projects'>Generating Projects</a></h2>

<p>To generate a project simply type:</p>

<pre>
$ e g:p App
</pre>


<p>This will create <code>./App</code> folder with a ready-to-use application inside.</p>

<p>Generated application will use <code>ERB</code> engine and wont be set to use any <code>ORM</code>.</p>

<p>To generate a project that will use a custom engine, use <code>engine</code> option followed by a semicolon and the full, case sensitive, name of desired engine:</p>

<pre>
$ e g:p App engine:Slim
</pre>


<p><strong>Worth to note</strong> that generator allow to use only first option letter and require a semicolon between option name and value:</p>

<pre>
$ e g:p App e:Slim
</pre>


<p>This will update your <code>Gemfile</code> by adding <code>slim</code> gem and also will update <code>config.yml</code> by adding <code>engine: :Slim</code>.</p>

<p>If your project will use an <code>ORM</code>, use <code>orm</code> option followed by a semicolon and the name of desired <code>ORM</code>:</p>

<pre>
$ e g:p App orm:ActiveRecord
</pre>


<p><strong>Worth to note</strong> that <code>ORM</code> name are case insensitive. You can even use only first letter.</p>

<p><strong>Also</strong> <code>orm</code> option can be shortened to first letter only:</p>

<p>project using ActiveRecord:</p>

<pre>
$ e g:p App orm:a
# or
$ e g:p App orm:ar
# or just
$ e g:p App o:a
</pre>


<p>project using DataMapper:</p>

<pre>
$ e g:p App o:dm
# or just
$ e g:p App o:d
</pre>


<p>project using Sequel:</p>

<pre>
$ e g:p App o:sequel
# or just
$ e g:p App o:s
</pre>


<p>Generator also allow to specify <a href="Routing.html#format">format</a> to be used by all controllers / actions.</p>

<p>Ex: to make all actions to serve URLs ending in <code>.html</code>, use <code>format:html</code>:</p>

<pre>
$ e g:p App format:html
</pre>


<p>And of course as per other options, <code>format</code> can be shortened to first letter only:</p>

<pre>
$ e g:p App f:html
</pre>


<p>And of course you can pass multiple options:</p>

<pre>
$ e g:p App o:ar e:Slim f:html
</pre>


<p><strong>[ <a href="#">contents &uarr;</a> ]</strong></p>

<h2 id='generating-controllers'><a href='#generating-controllers'>Generating Controllers</a></h2>

<p>As simple as:</p>

<pre>
$ e g:c Foo
</pre>


<p>This will create "base/controllers/foo/" folder and "base/controllers/foo_controller.rb" file.</p>

<p>The file will contain controller's setups and the folder will contain controller's actions.</p>

<h3 id='map'><a href='#map'>Map</a></h3>

<p>By default the controller will be mapped to its underscored name, that's it, "Foo" to "/foo", "FooBar" to "/foo_bar", "Foo::Bar" to "/foo/bar" etc.</p>

<p>To generate a controller mapped to a custom location, use the <code>route</code> option:</p>

<pre>
$ e g:c Foo route:bar
# or just
$ e g:c Foo r:bar
</pre>


<h3 id='setups'><a href='#setups'>Setups</a></h3>

<p>When generating a controller without any setups, it will use project-wide ones(passed at project generation), if any.</p>

<p>To generate a controller with custom setups, pass them as options:</p>

<pre>
$ e g:c Foo e:Haml
</pre>


<p>This will create a controller that will use <code>Haml</code> engine.</p>

<p>Another option is <a href="Routing.html#format">format</a>:</p>

<pre>
$ e g:c Foo f:html
</pre>


<h3 id='multiple'><a href='#multiple'>Multiple</a></h3>

<p>When you need to generate multiple controllers at once, use <code>controllers</code>(or <code>cs</code>) notation:</p>

<pre>
$ e g:controllers A B C
# or just
$ e g:cs A B C
</pre>


<p>This will generate 3 controllers without any setups.</p>

<p>Any passed setups will apply to all generated controllers:</p>

<pre>
$ e g:cs A B C e:Haml 
</pre>


<h3 id='namespaces'><a href='#namespaces'>Namespaces</a></h3>

<p>When you need a namespaced controller, pass its name as is:</p>

<pre>
$ e g:c Foo::Bar
</pre>


<p>This will generate <code>Foo</code> module with <code>Bar</code> class inside:</p>

<pre>
module Foo
  class Bar
    # ...
  end
end
</pre>


<p></p>

<p><strong>Worth to note</strong> that <code>Bar</code> controller will be mapped to "/foo/bar" URL.<br>
To map it to another location, use <code>route</code> option as shown above.</p>

<p><strong>[ <a href="#">contents &uarr;</a> ]</strong></p>

<h2 id='generating-routes'><a href='#generating-routes'>Generating Routes</a></h2>

<p>As simple as:</p>

<pre>
$ e g:route Foo bar
# or just
$ e g:r Foo bar
</pre>


<p>where <code>Foo</code> is the controller name and <code>bar</code> is the route.</p>

<p>This will create "base/controllers/foo/bar_action.rb" and "base/views/foo/bar.erb" files.</p>

<h3 id='mapping'><a href='#mapping'>Mapping</a></h3>

<p>You can provide the URL rather than action name - it will be automatically converted according to effective <a href="Routing.html#action-mapping">path rules</a>:</p>

<pre>
$ e g:r Forum posts/latest
</pre>


<p>This will create <code>posts__latest</code> method in "base/controllers/forum/posts<strong>latest_action.rb" file and the "base/views/forum/posts</strong>latest.erb" template file.</p>

<p>See <a href="Routing.html#action-mapping">more details on actions mapping</a>.</p>

<h3 id='setups'><a href='#setups'>Setups</a></h3>

<p>Setups provided at route generation will be effective only on generated route:</p>

<pre>
$ e g:c Foo e:Haml
$ e g:r Foo bar e:Slim
</pre>


<p>All actions of <code>Foo</code> controller, except <code>bar</code>, will use <code>Haml</code> engine.<br>
<code>bar</code> action will use <code>Slim</code> engine instead.</p>

<h3 id='arguments'><a href='#arguments'>Arguments</a></h3>

<p>If generated route are supposed to accept some arguments, simply pass them after route name:</p>

<pre>
$ e g:r Foo bar a b=nil
</pre>


<p>will result in:</p>

<pre>
class Foo

  def bar a, b=nil
  end
end
</pre>


<p><strong>Worth to note</strong> that any setups can be provided alongside arguments, they wont clash:</p>

<pre>
$ e g:r Foo bar a b=nil e:Haml f:html
</pre>


<p>will result in:</p>

<pre>
class Foo
  
  format_for :bar, 'html'
  before :bar do
    engine :Haml
  end

  def bar a, b=nil
  end
end
</pre>


<h3 id='multiple'><a href='#multiple'>Multiple</a></h3>

<p>To generate multiple routes at once use <code>routes</code> or <code>rs</code> notation:</p>

<pre>
$ e g:rs Foo a b c
</pre>


<p>this will create 3 routes and 3 views.</p>

<p><strong>Worth to note</strong> that any provided setups will apply on all generated actions. <strong>Not</strong> the same about arguments, they will be interpreted as action names, so do not pass any arguments when generating multiple routes.</p>

<p><strong>[ <a href="#">contents &uarr;</a> ]</strong></p>

<h2 id='generating-models'><a href='#generating-models'>Generating Models</a></h2>

<pre>
$ e g:m Foo
</pre>


<p>this will create "base/models/foo.rb" file.</p>

<p>File content will depend on setups passed at project generation:</p>

<p>If we generate a project like this:</p>

<pre>
$ e g:p App o:ActiveRecord
</pre>


<p>the:</p>

<pre>
$ e g:m Foo
</pre>


<p>will result in:</p>

<pre>
class Foo < ActiveRecord::Base

end
</pre>


<p>And if the project are generated like this:</p>

<pre>
$ e g:p App o:DataMapper
</pre>


<p>the:</p>

<pre>
$ e g:m Foo
</pre>


<p>will result in:</p>

<pre>
class Foo
  include DataMapper::Resource

  property :id, Serial
end
</pre>


<p>To generate a model on a project without default <code>ORM</code>, use <code>orm</code> option at model generation:</p>

<pre>
$ e g:m Foo orm:ActiveRecord
</pre>


<p>will result in:</p>

<pre>
class Foo < ActiveRecord::Base

end
</pre>


<p>To generate multiple models at once, use <code>models</code> or <code>ms</code> notation:</p>

<pre>
$ e g:ms A B C
</pre>


<p><strong>[ <a href="#">contents &uarr;</a> ]</strong></p>

<h2 id='generating-views'><a href='#generating-views'>Generating Views</a></h2>

<p>View generator are triggered every time you generate a route, so use it only to create a template that was accidentally lost:</p>

<pre>
$ e g:v Foo bar
</pre>


<p>this will create "base/views/foo/bar.ext" template, if it does not exists.</p>

<p>If template already exists, the generator will simply touch it, without modifying the name/content in any way.</p>

<p><strong>[ <a href="#">contents &uarr;</a> ]</strong></p>

    <hr/>

    <footer class="footer well">

      <div class="row">
        <div class="span4">
          <p>
            License: MIT
          </p>
          <p>
            Author: Silviu Rusu
          </p>
          <p>
            Source Code:
            <a href="https://github.com/espresso/espresso">
                https://github.com/espresso/espresso</a>
          </p>
        </div>
      
      
        <div class="span6 pull-right">
          <p>
            Issues/Bugs:
            <a href="https://github.com/espresso/espresso/issues">
                https://github.com/espresso/espresso/issues</a>
            </p>
            <p>
              <strong>Contributors are very Welcome!</strong>
            </p>
            <p>
              IRC channel: #espressorb on irc.freenode.net
            </p>
        </div>
      </div>
      
    </footer>

  </div>
  
  <a href="https://github.com/espresso/espresso"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

  <script type="text/javascript">
    $(function() {
        $('pre').addClass('prettyprint lang-ruby');
        prettyPrint();
    });
  </script>
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-27879048-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  </body>
</html>
